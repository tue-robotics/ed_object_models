<?xml version="1.0"?>
<sdf version="1.6">
    <model name="impuls/door_inside">
      <static>false</static>
      <link name="frame">
        <pose>0.0 -0.4 1.11 0 0 0</pose>

        <collision name="collision_1">
          <geometry>
            <box>
              <size>0.05 0.05 2.20</size>
            </box>
          </geometry>
        </collision>

        <visual name="visual">
          <geometry>
            <box>
              <size>0.05 0.05 2.20</size>
            </box>
          </geometry>
        </visual>
      </link>

      <link name="door">
        <pose>0 0.00 1.11 0 0 0</pose>
        <!--inertial>
          <mass>41.3256</mass>
          <inertia>
            <ixx>14.2053</ixx>
            <ixy>0.0004</ixy>
            <ixz>0.0000</ixz>
            <iyy>17.1997</iyy>
            <iyz>0.0000</iyz>
            <izz>3.0298</izz>
          </inertia>
        </inertial-->
        <collision name="collision">
          <geometry>
            <box>
              <size>0.05 0.8 2.20</size>
            </box>
          </geometry>
        </collision>
        <visual name="visual">
          <geometry>
            <box>
              <size>0.05 0.8 2.20</size>
            </box>
          </geometry>
        </visual>
     </link>


      <joint name="hinge" type="revolute">
        <parent>frame</parent>
        <child>door</child>
        <axis>
          <xyz>0 0 1</xyz>
          <limit>
            <lower>0</lower>
            <upper>1.58</upper>
          </limit>
          <dynamics>
            <damping>1.0</damping>
            <friction>1.0</friction>
          </dynamics>
          <!--use_parent_model_frame>true</use_parent_model_frame-->
        </axis>
        <physics>
          <ode>
            <cfm_damping>1</cfm_damping>
          </ode>
        </physics>
        <pose>0.0 -0.4 1.115 0 0 0</pose>
      </joint>


      <joint name="world_joint" type="revolute">
        <child>frame</child>
        <parent>world</parent>
        <axis>
          <limit>
            <lower>0</lower>
            <upper>0</upper>
          </limit>
          <xyz>0 1 0</xyz>
          <dynamics>
            <damping>1.0</damping>
          </dynamics>
          <use_parent_model_frame>true</use_parent_model_frame>
        </axis>
        <physics>
          <ode>
            <cfm_damping>1</cfm_damping>
          </ode>
        </physics>
      </joint>


      <link name="handles">
        <pose>0 0.3 1.05 0 3.14 1.57</pose>
        <collision name="handle1_collision">
          <pose>0 0.025 0 -1.57 0 0</pose>
          <geometry>
            <mesh>
              <uri>model://door_handle/meshes/handle.dae</uri>
            </mesh>
          </geometry>
        </collision>
        <visual name="handle1_visual">
          <pose>0 0.025 0 -1.57 0 0</pose>
          <geometry>
            <mesh>
              <uri>model://door_handle/meshes/handle.dae</uri>
            </mesh>
          </geometry>
        </visual>
        <collision name="handle2_collision">
          <pose>0 -0.025 0 1.57 0 0</pose>
          <geometry>
            <mesh>
              <uri>model://door_handle/meshes/handle.dae</uri>
            </mesh>
          </geometry>
        </collision>
        <visual name="handle2_visual">
          <pose>0 -0.025 0 1.57 0 0</pose>
          <geometry>
            <mesh>
              <uri>model://door_handle/meshes/handle.dae</uri>
            </mesh>
          </geometry>
        </visual>
      </link>

      <joint name="handle" type="revolute">
        <parent>door</parent>
        <child>handles</child>
        <pose>0 0 0 0 0 0</pose>
        <axis>
          <xyz>1 0 0</xyz>
          <limit>
            <lower>0</lower>
            <upper>1.58</upper>
          </limit>
          <dynamics>
            <damping>0.1</damping>
            <spring_stiffness>0.3</spring_stiffness>
          </dynamics>
          <use_parent_model_frame>true</use_parent_model_frame>
        </axis>
        <physics>
          <ode>
            <cfm_damping>1</cfm_damping>
          </ode>
        </physics>
      </joint>

      <link name="handle_volume">
            <virtual_volume name="handle_vv">
                <geometry>
                    <box>
                        <size>0.2 0.12 0.12</size>
                    </box>
                </geometry>
                <pose>0.125 0.365 1.06 0 0 0</pose>
            </virtual_volume>
        </link>
        <link name="handle_behind_volume">
            <virtual_volume name="handle_behind_vv">
                <geometry>
                    <box>
                        <size>0.2 0.12 0.12</size>
                    </box>
                </geometry>
                <pose>-0.125 0.365 1.06 0 0 0</pose>
            </virtual_volume>
        </link>
        <!--let's add a frame left point and frame right point for the rgbd sensor-->
        <link name="frame_left_point">
             <virtual_volume name="frame_left_point_vv">
                <geometry>
                    <box>
                        <size>0.02 0.02 0.02</size>
                    </box>
                </geometry>
                <pose>0 0.465 0 0 0 0</pose>
            </virtual_volume>
        </link>
        <link name="frame_right_point">
            <virtual_volume name="frame_right_point_vv">
                <geometry>
                    <box>
                        <size>0.02 0.02 0.02</size>
                    </box>
                </geometry>
                <pose>0 -0.465 0 0 0 0</pose>
            </virtual_volume>
        </link>

    </model>
</sdf>